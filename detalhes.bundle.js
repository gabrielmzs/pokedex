(()=>{"use strict";var e=function(){function e(){}return e.prototype.pesquisarPokemon=function(e){var t=this;return fetch("https://pokeapi.co/api/v2/pokemon/"+e).then((function(e){return e.json()})).then((function(e){return t.mapearPokemon(e)}))},e.prototype.pesquisarListaPokemons=function(){var e=this;return fetch("https://pokeapi.co/api/v2/pokemon/").then((function(e){return e.json()})).then((function(t){return e.mapearListaPokemons(t.results)}))},e.prototype.mapearListaPokemons=function(e){var t=this,n=e.map((function(e){return t.pesquisarPokemon(e.name)}));return Promise.all(n)},e.prototype.mapearPokemon=function(e){return e.id<650?{id:e.id,nome:e.name,spriteUrl:e.sprites.versions["generation-v"]["black-white"].animated.front_default}:{id:e.id,nome:e.name,spriteUrl:e.sprites.other.home.front_default}},e}(),t=function(){function t(){var t=this;this.pokemonService=new e,this.registrarElementos(),this.registrarEventos(),this.pokemonService.pesquisarListaPokemons().then((function(e){return t.gerarGridPokemons(e)}))}return t.prototype.gerarGridPokemons=function(e){var t=document.createElement("div");t.classList.add("grid-pokemons");for(var n=0,o=e;n<o.length;n++){var r=o[n],i=this.obterCard(r);t.appendChild(i)}this.pnlConteudo.appendChild(t)},t.prototype.obterCard=function(e){var t=document.createElement("p"),n=document.createElement("img"),o=document.createElement("p");t.textContent=e.id.toString(),o.textContent=e.nome,n.src=e.spriteUrl;var r=document.createElement("div");return r.classList.add("card-pokemon"),r.appendChild(t),r.appendChild(n),r.appendChild(o),r},t.prototype.registrarElementos=function(){this.formPrincipal=document.getElementById("formPrincipal"),this.txtPesquisa=document.getElementById("txtPesquisa"),this.btnLimpar=document.getElementById("btnLimpar"),this.pnlConteudo=document.getElementById("pnlConteudo")},t.prototype.registrarEventos=function(){var e=this;this.formPrincipal.addEventListener("submit",(function(t){return e.buscar(t)})),this.btnLimpar.addEventListener("click",(function(){return e.limparCard()}))},t.prototype.buscar=function(e){if(e.preventDefault(),this.txtPesquisa.value){var t=this.txtPesquisa.value;this.txtPesquisa.value="",this.limparCard(),this.pesquisarPokemonPorNome(t)}},t.prototype.limparCard=function(){var e;null===(e=this.pnlConteudo.querySelector(".card-pokemon"))||void 0===e||e.remove()},t.prototype.pesquisarPokemonPorNome=function(e){var t=this;this.pokemonService.pesquisarPokemon(e).then((function(e){return console.log(e)})).catch((function(e){return t.exibirNotificacao(e)}))},t.prototype.exibirNotificacao=function(e){var t=document.createElement("div");t.textContent=e.message,t.classList.add("notificacao"),t.addEventListener("click",(function(e){e.target.remove()})),document.body.appendChild(t),setTimeout((function(){t.remove()}),5e3)},t}();window.addEventListener("load",(function(){return new t}))})();
//# sourceMappingURL=detalhes.bundle.js.map